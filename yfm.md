# YFM Style Guide

Статьи на сайте [Яндекс.Облако](cloud.yandex.ru/docs) написаны на Markdown —
упрощенном языке разметки, который легко использовать и изучать. Благодаря
своей простоте он быстро становится отраслевым стандартом. Так как документация
хранится в репозитории GitHub, для нее можно использовать расширенный набор
Markdown под названием GitHub Flavored Markdown (GFM).

Для удобоства написания документации мы расширили стандартный формат,
который позволяет работать со вставками, табами и другими элементами.

## Содержание

- [Базовые сведения о Markdown](#Базовые-сведения-о-Markdown)
    - [Заголовки](#markdown-header-%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8)
    - [Начертания](#markdown-header-%D0%BD%D0%B0%D1%87%D0%B5%D1%80%D1%82%D0%B0%D0%BD%D0%B8%D1%8F)
    - [Списки](#markdown-header-%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B8)
        - [Неупорядоченный список](#markdown-header-%D0%BD%D0%B5%D1%83%D0%BF%D0%BE%D1%80%D1%8F%D0%B4%D0%BE%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9-%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA)
        - [Упорядоченный список](#markdown-header-%D1%83%D0%BF%D0%BE%D1%80%D1%8F%D0%B4%D0%BE%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9-%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA)
    - [Таблицы](#markdown-header-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B)
    - [Ссылки](#markdown-header-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8)
    - [Вставка кода](#markdown-header-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0-%D0%BA%D0%BE%D0%B4%D0%B0)
    - [Изображения](#markdown-header-%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)
        - [Прямая вставка](#markdown-header-%D0%BF%D1%80%D1%8F%D0%BC%D0%B0%D1%8F-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0)
        - [Вставка через ссылку](#markdown-header-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D1%83)
- [Расширенные возможности Markdown (YFM)](#markdown-header-%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8-markdown-yfm)
    - [Заметки](#markdown-header-%D0%B7%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8)
        - [Примечание](#markdown-header-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%87%D0%B0%D0%BD%D0%B8%D0%B5)
        - [Предупреждение](#markdown-header-%D0%BF%D1%80%D0%B5%D0%B4%D1%83%D0%BF%D1%80%D0%B5%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5)
        - [Совет](#markdown-header-%D1%81%D0%BE%D0%B2%D0%B5%D1%82)
        - [Важно](#markdown-header-%D0%B2%D0%B0%D0%B6%D0%BD%D0%BE)
    - [Вставки (инклуды)](#markdown-header-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B8-%D0%B8%D0%BD%D0%BA%D0%BB%D1%83%D0%B4%D1%8B)
        - [Вставка файла целиком](#markdown-header-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0-%D1%84%D0%B0%D0%B9%D0%BB%D0%B0-%D1%86%D0%B5%D0%BB%D0%B8%D0%BA%D0%BE%D0%BC)
        - [Вставка файла целиком (без заголовка)](#markdown-header-%D0%B2%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0-%D1%84%D0%B0%D0%B9%D0%BB%D0%B0-%D1%86%D0%B5%D0%BB%D0%B8%D0%BA%D0%BE%D0%BC-%D0%B1%D0%B5%D0%B7-%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B0)
    - [Табы](#markdown-header-%D1%82%D0%B0%D0%B1%D1%8B)
    - [Метаданные](#markdown-header-%D0%BC%D0%B5%D1%82%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5)
    - [Оглавление раздела](#markdown-header-%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%B0)
    - [Ключевые слова](#markdown-header-%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B2%D1%8B%D0%B5-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0)
    - [Разводящая страница](#markdown-header-%D1%80%D0%B0%D0%B7%D0%B2%D0%BE%D0%B4%D1%8F%D1%89%D0%B0%D1%8F-%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0)

## Базовые сведения о Markdown
### Заголовки

Чтобы создать заголовок, используйте знак (#), например:

```markdown
# Заголовок h1
## Заголовок h2
### Заголовок h3
#### Заголовок h4
```

Заголовок страницы пишем h1 заголовком. Далее идёт раздел - h2. Потом уже
по уровням вложенности. Важно! Нельзя пропускать вложенность загловков.

### Начертания

Чтобы задать для текста **полужирное начертание**, заключите его в двойные
звездочки:

```markdown
Этот текст **жирный**.
```

Чтобы задать для текста _курсивное начертание_, заключите его в знаки подчеркивания:

```markdown
Этот текст _наклонный_.
```

Чтобы задать для текста _**полужирное и курсивное**_ начертание, заключите
его одновременно в двойные звездочки и знаки подчеркивания:

```markdown
Этот текст _**жирный и наклонный**_.
Этот текст **_жирный и наклонный_**.
```

### Списки

#### Неупорядоченный список

Неупорядоченный (маркированный) список можно отформатировать с помощью
звездочек (*), дефисов (-) или знаков плюс (+). Например, следующая разметка Markdown:

```markdown
- Элемент 1
- Элемент 2
- Элемент 3
```

будет отображаться как:

- Элемент 1
- Элемент 2
- Элемент 3

Чтобы вложить один список в другой, добавьте отступ для элементов дочернего
списка. Например, следующая разметка Markdown:

```markdown
- Элемент 1
  - Элемент A
  - Элемент B
- Элемент 2
```

будет отображаться как:

- Элемент 1
  - Элемент A
  - Элемент B
- Элемент 2

#### Упорядоченный список

Упорядоченный (ступенчатый) список можно отформатировать с помощью
соответствующих цифр. Например, следующая разметка Markdown:

```markdown
1. Первый пункт
2. Второй пункт
3. Третий пункт
```

будет отображаться как:

1. Первый пункт
2. Второй пункт
3. Третий пункт

Чтобы вложить один список в другой, добавьте отступ для элементов
дочернего списка. Например, следующая разметка Markdown:

```markdown
1. Первый пункт
    1. Вложенный пункт
    2. Вложенный пункт
2. Второй пункт
```

будет отображаться как:

1. Первый пункт
    1. Вложенный пункт
    2. Вложенный пункт
2. Второй пункт


### Таблицы

Таблицы не входят в основную спецификацию Markdown, но их поддерживает GFM.
Создавать таблицы можно с помощью символов вертикальной черты (|) и дефиса (-).
Дефисы позволяют создавать для каждого столбца заголовок. Вертикальные черты
разделяют столбцы. Чтобы таблица правильно отображалась, включите перед
ней пустую строку.

Например, следующая разметка Markdown:

```markdown
Колонка по левому краю | Колонка по правому краю | Колонка по центру
:--- | ---: | :---:
Текст | Текст | Текст
```

будет отображаться как:

Колонка по левому краю | Колонка по правому краю | Колонка по центру
:--- | ---: | :---:
Текст | Текст | Текст

### Ссылки

Синтаксис Markdown для встроенной ссылки состоит из части `[текст ссылки]`,
представляющей текст гиперссылки, и части `(имя_файла.md)` — URL-адреса или
имени файла, на который дается ссылка:

 `[link text](file-name.md)`

В нашем расширении GFM мы добавили возможность вставлять ссылку без указания
текста ссылки. Например:

```markdown
[[!TITLE]](file-name.md)
```

В этом случае ссылка подставится автоматически из заголовка файла указанного
в ссылке. Это упрощает переименовывание документов.

### Вставка кода

Markdown поддерживает как встраивание фрагментов кода в предложение,
так и их размещение между предложениями в виде отдельных огражденных блоков.

    ```js
    let = 10;
    ```

Такая вставка приобразуется в код с подсветкой.

```js
let = 10;
```

### Изображения

Есть общее правило - все изображения необходимо положить в папку `_assets`. Она
может находиться на всех уровнях документации. Добавить изображение в статью
так:

#### Прямая вставка

```markdown
![alt text](_assets/image.png "Текст для подсказки при ховере")
```

#### Вставка через ссылку

```markdown
![alt text][image]
[image]: _assets/image.png "Текст для подсказки при ховере"
```

Такой способ может быть удобен, когда нужно вставить одно изображение
несколько раз.

## Расширенные возможности Markdown (YFM)

### Заметки

Есть четыре типа блоков заметок, которые позволяют привлечь внимание к
определенному содержимому. В целом не следует часто использовать блоки заметок,
так как они могут отвлекать пользователя от основного содержимого. Хотя эти
элементы также поддерживают блоки кода, изображения, списки и ссылки, лучше
не перегружать их, делая простыми и понятными.

#### Примечание
```markdown
> [!NOTE]
>
> Это примечание.
```

#### Предупреждение
```markdown
> [!WARNING]
>
> Это предупреждение.
```
#### Совет
```markdown
> [!TIP]
>
> Это совет.
```
#### Важно
```markdown
> [!IMPORTANT]
>
> Это важная информация.
```

### Вставки (инклуды)

При написании документации удобно часть контента выделять в отдельные файлы и
использовать их в нескольких местах.

Все файлы, которые будет необходимо вставить обязаны лежать в папке
```_includes```. Эта папка может быть как на корневом уровне документаци,
так и в каждом разделе.

#### Вставка файла целиком

```[!INCLUDE [Описание](_includes/file.md)]```

В поле для описания рекомендуется вставлять некий комментарий про что
этот файл, для более удобного отображения на Github.

#### Вставка файла целиком (без заголовка)

```[!INCLUDE-NOTITLE [description](file.md)]```

Здесь всё работает аналогично предыдущему абзацу с тем отличаем, что
если в файле, который вставляется есть заголовок, то он будет вырезан.

### Табы

Очень удобно разделять схожий контент табами. Пример реализации:
```markdown

---

**[!TAB Название таба1]**

Контент таба1.
Можно несколько строк.

**[!TAB Название таба1]**

Контент таба2.

---
```

## Метаданные

На каждой странице (кроме файлов в папках ```_includes```) в начале файла необходимо
добавить метаданные в формате yaml. Обязательное поле - title.

```

---
title: Заголовок
description: Описание
---
```

Также сюда стоит добавлять даннаые для SEO.

## Оглавление раздела

Чтобы на сайте Облака мы могли нарисовать правильную навигацию у кажого
раздела существует оглавлением. Формируется оно в виде отдельного файла
```toc.yaml```.

```yaml
- title: Yandex Cloud Marketplace
  href: index.md
  items:
    - name: Тестовый топикхед
      items:
        - name: Создание виртуальной машины
          href: create.md
    - name: Первичная настройка программного обеспечения
      href: setup.md
    - name: Работа с виртуальной машиной
      href: operate.md
    - name: Справочник API
      include:
        repo: docs-api
        path: ru/compute/toc.yaml
```

Если это папка, то у неё появляются вложенные элементы ```items```. Уровень
вложенности может быть любым, но стоит исходить из разумных ограничений.

Можно включить в оглавление другое оглавление. Для этого в элементе нужно указать
поле `include` с полями `repo` (имя репозитория) и `path` (путь до `toc.yaml`).

## Ключевые слова

Часто в документации необходимо использовать ключевые слова, которые
хочется менять в одном месте, для сохранения консистентности документации.
Для этого можно использовать файл ```keys.yaml```. Он может быть
расположен, как на уровен раздела, так и в корне документации.

Пример файла:

```yaml
compute: Сервис виртуальных машин
mdb: Сервис SQL баз данных
```

В нужном месте документа вы можете вставить эти ключевые слова таким
синтаксисом:

```
[!KEYREF compute]
[!KEYREF mdb]
```

Важно, что ключевое слово - это всегда строка, без переносов.

## Разводящая страница

При переходе пользователя на раздел необходимо сделать разводящую. Это по-сути
набор ссылок на базовые позразделы. Добавляем файл `index.yaml`, в котором указываем
заголовок, описание и ссылку.

Пример файла:

```yaml
# Заголовок и описание
title: "Биллинг в облаке"
description: "Биллинг — это сервис в составе Яндекс.Облака, который позволяет получать информацию о количестве потребленных ресурсов, проверять расходы денежных средств и оплачивать ресурсы. В Яндекс.Облаке вы платите только за потребленные ресурсы и только за время их фактического использования."
# Мета-информация title, description, keywords и т.п. (title вкладки и разные SEO-теги)
meta:
  title: "Биллинг в облаке"
# Блок с ссылками
links:
- title: "Начало работы"
  description: "Как создать свою первую виртуальную машину"
  href: "#"
- title: "Базовые операции"
  description: "Пошаговые инструкции по операциям настройки, подключения, изменения"
  href: "#"
```
