# Управление пользователями БД

Вы можете добавлять и удалять пользователей, а также управлять их индивидуальными настройками.

## Получить список пользователей {#list-users}

---

**[!TAB Консоль управления]**

1. Перейдите на страницу каталога и нажмите плитку **[!KEYREF mpg-name]**.
1. Нажмите на имя нужного кластера, затем выберите вкладку **Пользователи**.

**[!TAB CLI]**

[!INCLUDE [cli-install](../../_includes/cli-install.md)]

[!INCLUDE [default-catalogue](../../_includes/default-catalogue.md)]

Чтобы получить список пользователей кластера, выполните команду:

```
$ [!KEYREF yc-mdb-pg] user list
     --cluster-name=<имя кластера>
```

Имя кластера можно запросить со [списком кластеров в каталоге](#list-clusters).

---

## Добавить пользователя {#adduser}

При добавлении пользователя [!KEYREF mpg-short-name] по умолчанию резервирует для него 50 подключений к [!KEYREF PG]-кластеру (параметр `connlimit`). Минимальное количество подключений на пользователя — 10.

[!INCLUDE [note-pg-user-connections.md](../../_includes/mdb/note-pg-user-connections.md)]

---

**[!TAB Консоль управления]**

1. Перейдите на страницу каталога и нажмите плитку **[!KEYREF mpg-name]**.
1. Нажмите на имя нужного кластера и выберите вкладку **Пользователи**.
1. Нажмите кнопку **Добавить**.
1. Введите имя пользователя БД и пароль (от 8 до 128 символов).

**[!TAB CLI]**

[!INCLUDE [cli-install](../../_includes/cli-install.md)]

[!INCLUDE [default-catalogue](../../_includes/default-catalogue.md)]

Чтобы создать пользователя в кластере, выполните команду:

```
$ [!KEYREF yc-mdb-pg] user create <имя пользователя>
     --cluster-name=<имя кластера>
     --password=<пароль для пользователя>
     --permissions=<список баз, к которым пользователь должен иметь доступ>
```

Имя кластера можно запросить со [списком кластеров в каталоге](#list-clusters).

---

## Изменить пользователя {#updateuser}

Для пользователя можно изменить:

- имя и пароль;
- список баз, к которым у него есть доступ;
- ограничение на количество подключений к базам.

---

**[!TAB Консоль управления]**

В консоли управления пока можно изменить только пароль пользователя БД:

1. Перейдите на страницу каталога и нажмите плитку **[!KEYREF mpg-name]**.
1. Нажмите на имя нужного кластера и выберите вкладку **Пользователи**.
1. Нажмите значок ![](../../_assets/vertical-ellipsis.svg) и выберите пункт **Изменить пароль**.

**[!TAB CLI]**

[!INCLUDE [cli-install](../../_includes/cli-install.md)]

[!INCLUDE [default-catalogue](../../_includes/default-catalogue.md)]

Чтобы изменить пароль пользователя или список доступных ему баз данных, выполните команду:

```
$ [!KEYREF yc-mdb-pg] user update <имя пользователя>
     --cluster-name=<имя кластера>
     --password=<пароль для пользователя>
     --permissions=<список баз, к которым пользователь должен иметь доступ>
```

Имя кластера можно запросить со [списком кластеров в каталоге](#list-clusters).

---

## Удалить пользователя {#removeuser}

---

**[!TAB Консоль управления]**

1. Перейдите на страницу каталога и нажмите плитку **[!KEYREF mpg-name]**.
1. Нажмите на имя нужного кластера и выберите вкладку **Пользователи**.
1. Нажмите значок ![](../../_assets/vertical-ellipsis.svg) и выберите пункт **Удалить**.

**[!TAB CLI]**

[!INCLUDE [cli-install](../../_includes/cli-install.md)]

[!INCLUDE [default-catalogue](../../_includes/default-catalogue.md)]

Чтобы удалить пользователя, выполните команду:

```
$ [!KEYREF yc-mdb-pg] user delete <имя пользователя>
     --cluster-name=<имя кластера>
```

Имя кластера можно запросить со [списком кластеров в каталоге](#list-clusters).

---
