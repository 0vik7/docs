# Авторизация в API

Запросы к API могут выполнять пользователи с зарегистрированным аккаунтом в Яндекс.Паспорте.

**Чтобы воспользоваться API:**

1. Зарегистрируйтесь в Яндекс.Облаке.

   Подробнее читайте в разделе [Начало работы](../billing/quickstart/index.md) документации про Биллинг.
1. Назначьте необходимые [роли](../iam/concepts/access-control/roles.md) пользователю, от имени которого будут выполняться запросы к API. Выберите один из вариантов:
    * роль `resource-manager.cloud.owner` на облако;
    * пара ролей `resource-manager.cloud.member` на облако и `admin` на облако или каталог;
    * пара ролей `resource-manager.cloud.member` на облако и `editor` на облако или каталог.

    Чтобы назначить роли выполните:

    [!INCLUDE [grant-role-console](grant-role-console.md)]

1. Если у вас уже есть каталог в Яндекс.Облаке, откройте страницу этого каталога в консоли управления.

    > [!NOTE]
    >
    > Если вы назначили пользователю, от имени которого будут выполняться запросы к API, роль `admin` или `editor` на определенный каталог, на этом шаге выберите именно этот каталог.
    >

    Если каталога еще нет, создайте его:

    [!INCLUDE [create-folder](create-folder.md)]

1. Найдите идентификатор каталога в URL страницы каталога в консоли управления.
2. Получите IAM-токен.
3. В каждом API запросе к сервису передавайте:
    * IAM-токен в заголовке `Authorization` в формате `Authorization: bearer <IAM-token>`.
    * Идентификатор каталога в параметре `folderid` в теле запроса в формате `folderid=<folder id>`.


