# Статический веб-сайт в [!KEYREF objstorage-full-name]

Чтобы разместить статический веб-сайт в Object Storage:

1. [Создайте корзину с публичным доступом](#create-public-bucket)
1. [Настройте главную веб-страницу сайта и страницу ошибки](#index-and-error)
1. [Настройте использование собственного домена](#connect-your-domain)
1. [Загрузите файлы сайта](#upload-files)

## 1. Создайте публичную корзину {#create-public-bucket}

Чтобы создать корзину для файлов статического сайта:

1. Перейдите в [консоль управления](https://console.cloud.yandex.ru) Яндекс.Облака и выберите каталог, в котором будете выполнять операции.
1. На странице каталога нажмите кнопку **Создать ресурс** и выберите **Корзина**.
1. В поле **Имя** введите имя корзины, например, `example.com`. Имя корзины будет использоваться в доменном имени сайта: `https://example.com.[!KEYREF s3-web-host]`.

   Имя должно удовлетворять требованиям:
   
   [!INCLUDE [bucket-name-reqs](../../_includes/bucket-name-reqs.md)]
   
   > [!NOTE]
   >
   > Если вы планируете использовать собственный домен для веб-сайта, имя корзины должно в точности совпадать с именем вашего домена.
   
1. Укажите максимальный размер корзины в ГБ.
1. Выберите **Публичный** доступ к корзине.
1. Нажмите кнопку **Создать корзину**.

## 2. Настройте главную страницу сайта и страницу ошибки {#index-and-error}

Необходимо загрузить и настроить индексную страницу и страницу ошибки. Для этого:

1. Создайте на компьютере файлы:
   * `index.html` с текстом `Hello world!`.
      Содержимое файла будет показываться при обращении к главной странице веб-сайта.
   * `error.html` с текстом `Error!`.
      Содержимое файла будет показываться при ответах веб-сайта с ошибками `4хх`.
1. На вкладке **Объекты** на странице вашей корзины нажмите кнопку **Загрузить**. В открывшемся окне выберите необходимые файлы и нажмите кнопку подтверждения.
1. Нажмите кнопку **Загрузить**.
1. Откройте вкладку **Веб-сайт** на странице вашей корзины.
1. Выберите **Хостинг**.
1. В поле **Главная страница** укажите `index.html`.
1. В поле **Страница ошибки** укажите `error.html`.
1. Нажмите кнопку **Сохранить**.
1. Проверьте, что главная страница веб-сайта открывается. Для этого подключитесь к сайту через браузер по ссылке вида `https://{имя-корзины}.[!KEYREF s3-web-host]`.
1. Проверьте, что страница ошибки открывается. Для этого подключитесь к сайту через браузер по ссылке вида `https://{имя-корзины}.[!KEYREF s3-web-host]/error-check`.


## 3. Настройте использование собственного домена {#connect-your-domain}

Чтобы использовать для веб-сайта собственный домен:

- Проверьте, что имя корзины в точности совпадает с именем домена.
- Создайте запись типа CNAME (Canonical Name — каноническое имя) у своего провайдера DNS или на собственном DNS-сервере.

> [!NOTE]
>
> Если вы используете собственный домен, сайт будет доступен только по протоколу HTTP, например, `http://example.com`. 
>
> Протокол HTTPS можно использовать только при обращении к сайту по адресам [!KEYREF objstorage-name], например, `http(s)://example.com.[!KEYREF s3-web-host]`.

В инструкции ниже описана настройка внешнего DNS-сервиса на примере [reg.ru](https://www.reg.ru/) для доменных имен `example.com.[!KEYREF s3-web-host]` и `example.com`:

1. На вкладке **Веб-сайт** на странице корзины в [консоли управления](https://console.cloud.yandex.ru) найдите адрес сайта.
1. Войдите в панель управления внешнего DNS-сервиса. Перейдите в [список ваших доменов](https://www.reg.ru/user/domain_list) и нажмите на имя нужного домена.
1. Перейдите по ссылке **Управление зоной** в блоке **Управление доменом**.
1. Создайте CNAME-запись со значениями полей:
   * **Subdomain** — `www`.
   * **Canonical name** — адрес сайта с точкой на конце, например, `example.com.[!KEYREF s3-web-host].`.
1. Подождите 15-20 минут, пока изменения DNS-записей вводятся в действие. Время ожидания может отличаться для вашего DNS-сервиса.


## 4. Загрузите файлы веб-сайта {#upload-files}

После настройки и проверки доступности сайта загрузите в корзину остальные файлы, необходимые для работы сайта. Используйте для этого [консоль управления](https://console.cloud.yandex.ru), [API](../../storage/s3/api-ref/object/upload.md) или один из доступных [инструментов для работы с [!KEYREF objstorage-name]](../../storage/instruments/).