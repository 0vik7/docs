# Датасет

Or DataSet?

Режимы работы

- Единовременная загрузка
- Ежедневная перезагрузка
- Инкрементальная загрузка


Датасет предназначен для описания набора (куба) данных. В интерфейсе датасета можно, например, определить измерения и показатели, переименовать поля, указать функцию агрегации для показателей, добавить описание, создать вычисляемое поле, определить режим работы датасета, настроить права доступа и прочее.Датасет, в зависимости от источника данных, может работать в режиме прямого обращения за данными в источник или же к данным предварительно загруженным в хранилище DataLens. Мы называем этот процесс материализацией.

- Для **ClickHouse** доступны оба режима.
- **YT** работает только в режиме материализации.
- **CSV-файл** работает только в режиме прямого доступа. На самом деле файл материализуется на уровне подключения и все запросы идут к таблице в хранилище DataLens.


Позже мы поддержим дополнительные варианты материализации:

1. Периодическая полная перезагрузка данных по расписанию или по событию
1. Периодическая инкрементальная загрузка данных по расписанию или по событию


Также данные в датасет можно будет также заливать через API.Сейчас источником для DataSet может быть одна таблица, в начале следующего года мы научимся стоить датасеты из нескольких связанных таблиц.

## Датасет над данными в ClickHouse

**ClickHouse**. При создании датасета над ClickHouse можно выбрать конкретную таблицу из списка или указать в качестве источника публичную ссылку YQL-скрипта, в этом случае важно, чтобы кластер был доступен в YQL.

## Датасет над данными в YT

При создании датасета на основе данных в YT необходимо указать URL таблицы, удовлетворяющей трем условиям:
- таблица должна быть схематизирована
- таблица должна быть доступна на чтение роботу [@robot-datalens](https://staff.yandex-team.ru/robot-datalens)
- размер (uncompressed size) таблицы не должен превышать 1ГБ

При создании датасета таблица прогружается в хранилище DataLens.Мы планируем пересмотреть лимиты после анализа статистики.

## Датасет над данными в CSV-файле

При создании датасета на основе CSV-файла содержимое этого файла также загружается в хранилище DataLens.

