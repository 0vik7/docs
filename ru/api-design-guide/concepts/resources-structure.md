# Идентификация ресурсов

Каждый ресурс в Яндекс.Облаке идентифицируется парой:
 _категория ресурса_ и _идентификатор ресурса_.

**Категория ресурса**<br/><br/>
Категория определяет тип ресурса. Например: <q>disks</q> — категория дисков;
 <q>instances</q> — категория виртуальных машин;
 <q>images</q> — категория образов.
 
 Не следует путать категорию ресурса с понятием <q>коллекция</q> в REST. Категории не являются самостоятельными ресурсами, и вы не
 можете управлять ими (создавать, изменять или запрашивать информацию). Категории носят
 служебный характер — они используются в URL ресурсов для маршрутизации запросов на
 стороне сервиса.
 
**Идентификатор ресурса**<br/><br/>
Идентификатор ресурса — это строка, содержащая символы латинского алфавита и цифры. Идентификатор ресурса генерируется на стороне сервиса при создании этого ресурса.
 Максимальная длина идентификатора 50 символов.

## URL ресурсов {#url-resource}
Каждый ресурс имеет свой уникальный URL, который строится по схеме:
 
```
https://domain/service/version/{PATH}
```
PATH ресурса формируется на основе категории ресурса и его идентификатора.
Ниже приведены примеры. 

>Пример 1. URL виртуальной машины:
>
>```
>https://compute.api.cloud.yandex.net/compute/v1/instances/e0m97h0gbq0foeuis03
>```

>Пример 2. URL диска:
>
>```
>https://compute.api.cloud.yandex.net/compute/v1/disks/15f57h0gbqf1oeuis33
>```

Так формируются URL ресурсов _верхнего уровня_ (виртуальных машин, дисков, образов).
Идентификаторы таких ресурсов являются уникальными в рамках всего сервиса.
В их URL нет иерархии. 


Однако в Яндекс.Облаке существуют также _вложенные ресурсы_, например базы данных в кластере.
 Идентификаторы вложенных ресурсов уникальны в рамках родительского ресурса. Поэтому PATH вложенных
  ресурсов имеет иерархическую структуру:
  
```
/<категория родительского ресурса>/<идентификатор родительского ресурса>/<категория вложенного ресурса>/<идентификатор вложенного ресурса>
```  

> Пример URL вложенного ресурса (ресурса базы данных):
>
>```
>https://mdb.api.cloud.yandex.net/managed-postgresql/v1/clusters/24f17h0gfqf7oeuis2f/databases/db-testing
>```
>В примере:
>
><q>clusters</q> — категория родительского ресурса;
>
><q>24f17h0gfqf7oeuis2f</q> — идентификатор родительского ресурса;
>
><q>databases</q> — категория вложенного ресурса;
>
><q>db-testing</q> — идентификатор вложенного ресурса. 

Идентификаторы вложенных ресурсов задаются пользователем.


## URL для просмотра списка ресурсов {#listing}

API позволяет просматривать списки ресурсов определенной категории. Например, можно получить список
 запущенных виртуальных машин или список подключенных дисков.
 
На данный момент списки ресурсов можно получать только относительно их непосредственного родителя.
Например, вы можете получить список дисков в каком-нибудь каталоге,
 но не сможете посмотреть список дисков во всем облаке.
 
При получении списка ресурсов в URL необходимо передавать идентификатор
 родительского ресурса. Для ресурсов верхнего уровня идентификатор
  передается в query-параметре. Для вложенных ресурсов идентификатор родителя
   указывается в PATH. 

>Пример 1. Получение списка виртуальных машин в каталоге:
>
>```
>GET https://compute.api.cloud.yandex.net/compute/v1/instances?folderId=a3s17h9sbq5asdgss12 
>```

>Пример 2. Получение списка каталогов в облаке:
>
>```
>GET https://resource-manager.api.cloud.yandex.net/resource-manager/v1/folders?cloudId=fgs1sh9ggbq5wsdgss133 
>```

> Пример 3. Получение списка баз данных в кластере:
>```
>GET https://mdb.api.cloud.yandex.net/managed-postgresql/v1/clusters/24f17h0gfqf7oeuis2f/databases
>```
>в этом примере:
>
><q>24f17h0gfqf7oeuis2f</q> — идентификатор родительского ресурса (кластера).

> [!NOTE]
>
> API поддерживает постраничное отображение результатов. Подробнее см. в разделе [Пагинация](pagination.md).

## См. также {#section_nh1_5by_y2b}

[Иерархия ресурсов Яндекс.Облака](../../resource-manager/concepts/resources-hierarchy.md)
 — ссылка на документацию к Yandex Resource Manager.

