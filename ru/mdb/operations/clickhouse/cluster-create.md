# Создание [!KEYREF CH]-кластера

[!KEYREF CH]-кластер — это один или несколько хостов базы данных, между которыми можно настроить репликацию.

> [!IMPORTANT]
>
> При создании кластера [!KEYREF CH] из 2 и более хостов [!KEYREF mdb-short-name] автоматически создает кластер из 3 хостов ZooKeeper для управления репликацией и отказоустойчивостью. Эти хосты учитываются в расчете использованной [квоты ресурсов](https://console.cloud.yandex.ru/?section=quotas) в облаке, и в расчете стоимости кластера. Подробнее — в разделе о репликации для [[!KEYREF CH]](../../concepts/replication.md#clickhouse).

Количество хостов, которые можно создать вместе с [!KEYREF CH]-кластером, зависит от выбранного варианта хранилища:

  - При использовании сетевых дисков вы можете запросить любое количество хостов (от 1 до пределов текущей [квоты](../../concepts/limits.md)). 
  - При использовании SSD-дисков вместе с кластером можно создать не меньше 2 реплик (минимум 2 реплики необходимо, чтобы обеспечить отказоустойчивость). Если после создания кластера [доступных ресурсов каталога](../../concepts/limits.md) останется достаточно, вы можете добавить дополнительные реплики.

---

**[!TAB Консоль управления]**

1. В консоли управления выберите каталог, в котором нужно создать кластер БД.
1. Нажмите плитку **Yandex Managed Databases**.
1. Нажмите кнопку **Создать кластер** и выберите нужную СУБД. После создания кластера изменить СУБД невозможно.
1. Введите имя кластера в поле **Имя кластера**. Имя кластера должно быть уникальным в рамках каталога.
1. Выберите окружение, в котором нужно создать кластер (после создания кластера окружение изменить невозможно):
    - <q>production</q> — для стабильных версий ваших приложений.
    - <q>prestable</q> — для тестирования, в том числе самого сервиса [!KEYREF mdb-short-name]. Prestable-окружение обновляется чаще, из-за чего в нем раньше исправляются уже известные проблемы, но могут происходить обратно несовместимые изменения.
1. Выберите класс базы данных — он определяет технические характеристики виртуальных машин, на которых будут развернуты хосты БД. Все доступные варианты перечислены в разделе [[!TITLE]](../../concepts/instance-types.md). При изменении класса БД для кластера меняются характеристики всех уже созданных экземпляров.
1. В блоке **Размер хранилища**:
    - Выберите тип хранилища — более гибкое сетевое (**network-nvme**) или более быстрое локальное SSD-хранилище (**local-nvme**). Размер локального хранилища можно менять только с шагом 100 ГБ.  
    - Выберите объем, который будет использоваться для данных и резервных копий. Подробнее о том, как занимают пространство резервные копии, см. раздел [[!TITLE]](../../concepts/backup.md).
1. В блоке **База данных** укажите атрибуты БД:
    - Имя БД.
    - Имя пользователя.
    - Пароль пользователя. Минимум 8 символов.
1. В блоке **Хосты** укажите параметры хостов БД, создаваемых вместе с кластером (помните, что используя SSD-диски при создании [!KEYREF CH]-кластера можно задать не меньше 2 хостов). Чтобы изменить добавленный хост, наведите курсор на строку хоста и нажмите значок ![](../../../_assets/pencil.svg).
1. Нажмите кнопку **Создать кластер**.
    
---
